Index: base/plugins.cpp
===================================================================
--- base/plugins.cpp	(revision 51517)
+++ base/plugins.cpp	(working copy)
@@ -115,6 +115,9 @@
 		#if PLUGIN_ENABLED_STATIC(GROOVIE)
 		LINK_PLUGIN(GROOVIE)
 		#endif
+		#if PLUGIN_ENABLED_STATIC(KOM)
+		LINK_PLUGIN(KOM)
+		#endif
 		#if PLUGIN_ENABLED_STATIC(KYRA)
 		LINK_PLUGIN(KYRA)
 		#endif
Index: configure
===================================================================
--- configure	(revision 51517)
+++ configure	(working copy)
@@ -88,6 +88,7 @@
 add_engine gob "Gobli*ns" yes
 add_engine groovie "Groovie" yes "groovie2"
 add_engine groovie2 "Groovie 2 games" no
+add_engine kom "Kingdom O' Magic" no
 add_engine kyra "Legend of Kyrandia" yes "lol"
 add_engine lol "Lands of Lore" no
 add_engine lure "Lure of the Temptress" yes
Index: engines/engines.mk
===================================================================
--- engines/engines.mk	(revision 51517)
+++ engines/engines.mk	(working copy)
@@ -60,6 +60,11 @@
 endif
 endif
 
+ifdef ENABLE_KOM
+DEFINES += -DENABLE_KOM=$(ENABLE_KOM)
+MODULES += engines/kom
+endif
+
 ifdef ENABLE_KYRA
 DEFINES += -DENABLE_KYRA=$(ENABLE_KYRA)
 MODULES += engines/kyra
